if [ "$1" = "temperature" ]; then
	echo "Battery temperature: $(cat /sys/bus/wmi/drivers/acer-wmi-battery/temperature)"
elif [ "$2" = "health-mode" ]; then
	if [ "$1" = "enable" ]; then
		echo 1 | tee /sys/bus/wmi/drivers/acer-wmi-battery/health_mode > /dev/null
		echo "Battery health mode enabled"
	elif [ "$1" = "disable" ]; then
		echo 0 | tee /sys/bus/wmi/drivers/acer-wmi-battery/health_mode > /dev/null
		echo "Battery health mode disabled"
	elif [ "$1" = "status" ]; then
		if cat /sys/bus/wmi/drivers/acer-wmi-battery/health_mode; then
			echo "Status: enabled"
		else
			echo "Status: disabled"
		fi
	fi
elif [ "$2" = "calibration" ]; then
	if [ "$1" = "start" ]; then
		echo 1 | tee /sys/bus/wmi/drivers/acer-wmi-battery/calibration_mode > /dev/null
		echo "Starting the charge-discharge-charge cycle for battery calibration"
		echo "The computer must be connected to a power suply and it should not be used during this process"
		echo "Do not forget to disable calibration mode after it is finished"
	elif [ "$1" = "stop" ]; then
		echo 1 | tee /sys/bus/wmi/drivers/acer-wmi-battery/calibration_mode > /dev/null
		echo "Battery calibration process stoped"
	elif [ "$1" = "status" ]; then
		if cat /sys/bus/wmi/drivers/acer-wmi-battery/calibration_mode; then
			echo "Status: running"
		else
			echo "Status: stopped"
		fi
	fi
fi
